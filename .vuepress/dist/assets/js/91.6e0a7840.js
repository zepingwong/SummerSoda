(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{639:function(s,a,e){"use strict";e.r(a);var t=e(2),r=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"准备工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("准备工作")])])]),s._v(" "),a("h3",{attrs:{id:"软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#软件"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("软件")])])]),s._v(" "),a("p",[s._v("查看Redis可用版本, "),a("a",{attrs:{href:"https://download.redis.io/releases/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://download.redis.io/releases/"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"开始安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开始安装"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("开始安装")])])]),s._v(" "),a("h3",{attrs:{id:"_1、下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、下载"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("1、下载")])])]),s._v(" "),a("p",[s._v("下载需要的Redis版本到服务器上")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("https://download.redis.io/releases/redis-7.0.5.tar.gz\n")])])]),a("h3",{attrs:{id:"_2、解压"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、解压"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("2、解压")])])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xzf redis-7.0.5.tar.gz\n")])])]),a("h3",{attrs:{id:"_3、移动目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、移动目录"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("3、移动目录")])])]),s._v(" "),a("p",[s._v("一般都会将redis放置到 "),a("code",[s._v("/usr/local/redis")]),s._v(" 目录")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" redis-7.0.5 /usr/local/redis\n")])])]),a("h2",{attrs:{id:"编译安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译安装"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("编译安装")])])]),s._v(" "),a("h3",{attrs:{id:"_1、编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、编译"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("1、编译")])])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/redis\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])])]),a("blockquote",[a("ul",[a("li",[s._v("如果执行make命令报错：cc 未找到命令，原因是系统中缺少gcc 执行下面命令安装gcc:")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc automake autoconf libtool "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])])]),a("ul",[a("li",[s._v("如果执行make命令报错：致命错误:jemalloc/jemalloc.h: 没有那个文件或目录，则需要在make指定分配器为libc。")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MALLOC")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("libc\n")])])])]),s._v(" "),a("p",[s._v("make命令执行完，redis就编译完成了。")]),s._v(" "),a("h3",{attrs:{id:"_2、安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、安装"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("2、安装")])])]),s._v(" "),a("p",[s._v("执行下面命令安装redis，并指定安装目录")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PREFIX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/redis\n")])])]),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2022/11/05/JbaeuSj1opnAxsh.png",alt:"Snipaste_2022-10-28_08-31-28.png"}})]),s._v(" "),a("h2",{attrs:{id:"启动redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动redis"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("启动Redis")])])]),s._v(" "),a("p",[s._v("进入redis安装目录，执行下面命令启动redis服务")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("./bin/redis-server redis.conf\n")])])]),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2022/11/05/27YvmnkxUSEQaVW.png",alt:"Snipaste_2022-10-28_08-33-13.png"}})]),s._v(" "),a("p",[s._v("但这种启动方式不能退出控制台，如果退出，那么redis服务也会停止。如果想要redis以后台方式运行，需要修改redis的配置文件")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" redis.conf\n")])])]),a("p",[s._v("将该配置文件中的daemonize no改为daemonize yes即可")]),s._v(" "),a("p",[s._v("修改完成后，重新执行启动命令启动redis，然后通过下面命令查看redis进程，可以发现redis服务已经被启动了：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ef")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" redis\n")])])]),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2022/11/05/PFnKdNo1whiSbvk.png",alt:"Snipaste_2022-10-28_08-35-18.png"}})]),s._v(" "),a("h2",{attrs:{id:"测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("测试")])])]),s._v(" "),a("p",[s._v("通过redis-cli测试redis是否可用，在redis安装目录执行下面命令：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("./bin/redis-cli\n")])])]),a("p",[s._v("此处我们通过下面命令随便set一个字符串类型的值，key是test，value是hello：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" hello\n")])])]),a("p",[s._v("然后通过下面命令get出test这个key的value值：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("get "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n")])])]),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2022/11/05/K9oCRu8vF5arkwB.png",alt:"Snipaste_2022-10-28_08-38-47.png"}})]),s._v(" "),a("p",[s._v("测试没有问题")])])}),[],!1,null,null,null);a.default=r.exports}}]);