(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{620:function(t,s,e){"use strict";e.r(s);var a=e(2),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"问题描述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#问题描述"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("问题描述")])])]),t._v(" "),s("p",[t._v("如下图所示，使用命令"),s("code",[t._v("ssh -T git@github.com")]),t._v("测试公钥是否添加成功时，提示："),s("code",[t._v("git@github.com: Permission denied (publickey)")]),t._v("。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/05/08/eSvTljFg35b1OGB.png",alt:"Snipaste_2022-04-19_10-29-33.png"}})]),t._v(" "),s("h2",{attrs:{id:"解决方法一"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方法一"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("解决方法一")])])]),t._v(" "),s("p",[t._v("重新生成密钥对，不指定名字，使用默认名字")]),t._v(" "),s("h2",{attrs:{id:"解决方法二"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方法二"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("解决方法二")])])]),t._v(" "),s("p",[t._v("使用ssh-agent代理管理git私钥")]),t._v(" "),s("p",[t._v("添加本地私钥：ssh-add ~/.ssh/自己定义的名字")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("如报错“Could not open a connection to your authentication agent.”，说明agent没有启动，先运行：eval $(ssh-agent)或者eval `ssh-agent -s` (注意这里是反引号)，然后再运行ssh-add ~/.ssh/自己定义的名字\n\n再使用ssh -T git@github.com就会看到你想要的效果了\n\n")])])]),s("h2",{attrs:{id:"解决方法三"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方法三"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("解决方法三")])])]),t._v(" "),s("p",[t._v("配置一个Host，Host要取一个别名，Host主要配置HostName和IdentityFile两个属性即可")]),t._v(" "),s("p",[t._v("Host的名字可以取为自己喜欢的名字，不过这个会影响git相关命令，例如：Host mygithub 这样定义的话，命令如下，即git@后面紧跟的名字改为mygithub，例如：git clone git@mygithub:xxx/****.git")]),t._v(" "),s("p",[t._v("HostName 　　　　　　　   这个是真实的域名地址")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("IdentityFile 　　　　　　　  这里是id_rsa的地址\n\nPreferredAuthentications    配置登录时用什么权限认证--可设为publickey,password publickey,keyboard-interactive等\n\nUser 　　　　　　　　　　   配置使用用户名\n")])])]),s("p",[t._v("配置如下：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#配置github.com")]),t._v("\nHost github.com\nHostName github.com\nIdentityFile ~/.ssh/GitHub\nPreferredAuthentications publickey \nUser Solin\n")])])]),s("p",[t._v("注意：在.ssh目录中除了秘钥文件之外，config文件是后面的步骤中手动生产的，known_hosts文件是后续自动生产的")]),t._v(" "),s("p",[t._v("配置完成后，再使用ssh -T git@github.com测试是否配置成功")]),t._v(" "),s("p",[t._v("如果有多个git账号(比如：github.com账号、gitee.com账号等)，配置多个Host即可。")])])}),[],!1,null,null,null);s.default=n.exports}}]);