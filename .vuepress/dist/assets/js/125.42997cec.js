(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{690:function(t,s,a){"use strict";a.r(s);var e=a(2),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"背景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("背景")])])]),t._v(" "),s("ul",[s("li",[s("p",[s("em",[s("strong",[t._v("内网计算机")])]),t._v("：Windows 10 x64")])]),t._v(" "),s("li",[s("p",[s("em",[s("strong",[t._v("FRP服务器")])]),t._v("：腾讯云 Ubuntu 20.04")])])]),t._v(" "),s("p",[t._v("本文重点介绍 "),s("code",[t._v("FRP")]),t._v(" 服务器端和客户端配置，远程桌面连接属于常规内容，不再详细说明。")]),t._v(" "),s("h2",{attrs:{id:"准备工作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("准备工作")])])]),t._v(" "),s("h3",{attrs:{id:"下载软件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载软件"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("下载软件")])])]),t._v(" "),s("p",[t._v("GitHub下载 "),s("a",{attrs:{href:"https://github.com/fatedier/frp/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("FRP release"),s("OutboundLink")],1),t._v(" 的程序")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/05/28/kgIf5A9LWvbKXMm.png",alt:"Snipaste_2022-05-28_15-21-26.png"}})]),t._v(" "),s("p",[t._v("因为本次需要配置 Ubuntu 和 Windows 两个环境，所以两个包都下载下来（Linux 的包可以到终端上去操作，但是云服务器没有代理，所以一并在本地电脑上解决了）")]),t._v(" "),s("h2",{attrs:{id:"服务器配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务器配置"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("服务器配置")])])]),t._v(" "),s("p",[t._v("打开 "),s("code",[t._v("frp_linux_amd64.tar.gz")]),t._v(" ，里面有客户端（client）和服务端（server）的可执行文件和配置文件，其中"),s("code",[t._v("frps")]),t._v(" 、"),s("code",[t._v("frps_full.ini")]),t._v(" 、 "),s("code",[t._v("frps.ini")]),t._v(" 是服务器端的可执行文件和配置文件。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/05/28/nSZmgJ2d7TjQGMs.png",alt:"Snipaste_2022-05-28_15-26-22.png"}})]),t._v(" "),s("h3",{attrs:{id:"修改配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("修改配置文件")])])]),t._v(" "),s("p",[t._v("修改 "),s("code",[t._v("frps.ini")]),t._v(" 文件")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token section"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token section-name selector"}},[t._v("common")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("bind_addr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("0.0.0.0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("bind_port")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("7000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# token=1234567890")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("dashboard_port")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("7500")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("dashboard_user")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("username")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("dashboard_pwd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("password")]),t._v("\n")])])]),s("p",[s("em",[s("strong",[t._v("说明")])])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("bind_addr")]),t._v(" 服务器本地 IP")]),t._v(" "),s("li",[s("code",[t._v("bind_port")]),t._v(" "),s("code",[t._v("FRP")]),t._v(" 监听端口")]),t._v(" "),s("li",[s("code",[t._v("token")]),t._v(" 验证 token 根据需要设置")]),t._v(" "),s("li",[s("code",[t._v("dashboard_port")]),t._v(" "),s("code",[t._v("FRP")]),t._v("面板端口")]),t._v(" "),s("li",[s("code",[t._v("dashboard_user")]),t._v("、"),s("code",[t._v("dashboard_pwd")]),t._v(" 是面板的账号密码")])]),t._v(" "),s("blockquote",[s("ol",[s("li",[t._v("除了"),s("code",[t._v("bind_addr")]),t._v("参数之外的其他参数，都可以根据需求自行修改。")]),t._v(" "),s("li",[s("code",[t._v("token")]),t._v("和面板的配置都是非必须的。")]),t._v(" "),s("li",[t._v("如果使用云服务器，那么"),s("code",[t._v("bind_port")]),t._v(" 和 "),s("code",[t._v("dashboard_port")]),t._v("都需要在云服务器安全组放行。")])])]),t._v(" "),s("h3",{attrs:{id:"修改权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改权限"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("修改权限")])])]),t._v(" "),s("p",[t._v("然后给服务器端 "),s("code",[t._v("frps")]),t._v(" 赋予执行权限：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("755")]),t._v(" ./frps\n")])])]),s("h3",{attrs:{id:"运行-frps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行-frps"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("运行 frps")])])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./frps "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" ./frps.ini\n")])])]),s("p",[t._v("出现"),s("code",[t._v("[root.go:209] frps started successfully")]),t._v(" 即代表运行成功。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/05/28/wgMQcO43yqisKtY.png",alt:"Snipaste_2022-05-28_15-46-51.png"}})]),t._v(" "),s("blockquote",[s("p",[t._v("如果运行出现错误 "),s("code",[t._v("bash: ./frps: Permission denied")]),t._v(" 表示还是权限错误，参考上一步修改权限")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/05/28/bLCqN3jImsK2eAx.png",alt:"Snipaste_2022-05-28_15-44-39.png"}})])]),t._v(" "),s("h3",{attrs:{id:"访问面板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#访问面板"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("访问面板")])])]),t._v(" "),s("p",[s("code",[t._v("frps")]),t._v(" 运行成功后可以通过 "),s("code",[t._v("http://公网IP:面板端口")]),t._v(" 访问 frp 面板（前提是配置了访问面板）。登录面板可以看到如下界面：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/05/28/muBf7zy5kUaAdEb.png",alt:"Snipaste_2022-05-28_15-52-29.png"}})]),t._v(" "),s("h3",{attrs:{id:"进阶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进阶"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("进阶")])])]),t._v(" "),s("p",[t._v("使用 "),s("code",[t._v("nohup")]),t._v(" 让 "),s("code",[t._v("frps")]),t._v(" 后台运行")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./frps "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" ./frps.ini "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" nohup.out "),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),s("p",[t._v("查看后台服务，通过这个指令就能看到 "),s("code",[t._v("frps")]),t._v(" 的 PID")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-aux")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./frps -c ./frps.ini"')]),t._v("\n")])])]),s("h2",{attrs:{id:"客户端配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客户端配置"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("客户端配置")])])]),t._v(" "),s("p",[t._v("打开 "),s("code",[t._v("frp_windows_amd64.zip")]),t._v(" ，里面有客户端（client）和服务端（server）的可执行文件和配置文件，其中"),s("code",[t._v("frpc.exe")]),t._v(" 、"),s("code",[t._v("frpc_full.ini")]),t._v(" 、 "),s("code",[t._v("frpc.ini")]),t._v(" 是客户端的可执行文件和配置文件。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/05/28/Mtz8K2k1v3EWijg.png",alt:"Snipaste_2022-05-28_16-00-04.png"}})]),t._v(" "),s("h3",{attrs:{id:"修改配置文件-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件-2"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("修改配置文件")])])]),t._v(" "),s("p",[t._v("本地演示用到程序是 windows 远程桌面，使用 3389 端口。需要用 "),s("code",[t._v("FRP")]),t._v(" 将 windows 客户端的 3389 转发到服务器端上。比如将客户端的 3389 转发到服务器端的远程端口。用文本编辑器打开 "),s("code",[t._v("frpc.ini")]),t._v(" 文件:")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token section"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token section-name selector"}},[t._v("common")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("server_addr")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("FRP服务器公网地址")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("server_port")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("7000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# token=1234567890")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token section"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token section-name selector"}},[t._v("RDP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("tcp")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("local_ip")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("127.0.0.1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("local_port")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("3389")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("remote_port")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("服务器端远程端口")]),t._v("\n")])])]),s("p",[s("em",[s("strong",[t._v("说明")])])]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("server_addr")]),t._v(" FRP服务器公网地址")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("server_port")]),t._v(" 服务器FRP服务端口需要与服务器配置一致")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("token")]),t._v(" token 验证，如果服务器端配置了 "),s("code",[t._v("token")]),t._v("，客户端需要与服务器一致")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("type")]),t._v(" 转发端口协议类型")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("local_ip")]),t._v(" 本地地址，一般为 "),s("code",[t._v("127.0.0.1")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("local_port")]),t._v(" 本地服务端口，不同程序端口不同")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("remote_port")]),t._v(" 转发到服务器的某个端口")])])]),t._v(" "),s("blockquote",[s("p",[t._v("如果FRP服务使用的云服务器，要想通过公网IP加远程端口访问到转发的服务，需要云服务器安全组将此处配置的 "),s("code",[t._v("remote_port")]),t._v(" 放行。")])]),t._v(" "),s("h3",{attrs:{id:"运行-frpc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行-frpc"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("运行 frpc")])])]),t._v(" "),s("p",[t._v("打开CMD 在 "),s("code",[t._v("frpc")]),t._v(" 所在目录下运行")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("frpc.exe "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" frpc.ini\n")])])]),s("p",[t._v("出现 "),s("code",[t._v("success")]),t._v(" 就是连接成功")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/05/28/rGeuF7lNITJKtOD.png",alt:"Snipaste_2022-05-28_16-15-14.png"}})]),t._v(" "),s("p",[s("em",[s("strong",[t._v("说明")])])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("[RDP]的服务代理启动成功")])]),t._v(" "),s("li",[s("p",[t._v("[ssh]启动失败: 端口已经被占用")]),t._v(" "),s("p",[t._v("因为我除了添加了[RDP]的服务，我还添加了一个[ssh]的服务，服务器端口使用的是 6000")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token section"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token section-name selector"}},[t._v("ssh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("tcp")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("local_ip")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("127.0.0.1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("local_port")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("22")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("remote_port")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("6000")]),t._v("\n")])])]),s("p",[t._v("但是因为服务器 6000 这个端口已经被其他服务占用了，所以就启动失败")])])]),t._v(" "),s("h3",{attrs:{id:"服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务器"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("服务器")])])]),t._v(" "),s("p",[t._v("客户端的操作，在服务器端也能看到记录")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/05/28/JYcVqw1EZCed5N6.png",alt:"Snipaste_2022-05-28_16-27-04.png"}})]),t._v(" "),s("p",[t._v("面板中也会出现相应的记录")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/05/28/DvESRA87lPxmzMo.png",alt:"Snipaste_2022-05-28_16-29-06.png"}})]),t._v(" "),s("h3",{attrs:{id:"进阶-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进阶-2"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("进阶")])])]),t._v(" "),s("p",[t._v("使用 "),s("code",[t._v("winsw")]),t._v(" 注册 windows 后台服务")]),t._v(" "),s("h4",{attrs:{id:"下载-winsw"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载-winsw"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("下载 winsw")])])]),t._v(" "),s("p",[t._v("GitHub下载 "),s("a",{attrs:{href:"https://github.com/winsw/winsw/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("winsw.exe"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/05/28/48y6NQSgjvCpoOM.png",alt:"Snipaste_2022-05-28_16-37-41.png"}})]),t._v(" "),s("h4",{attrs:{id:"重命名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重命名"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("重命名")])])]),t._v(" "),s("p",[t._v("将软件重命名为 "),s("code",[t._v("winsw.exe")]),t._v("，并将该软件放到 "),s("code",[t._v("frpc")]),t._v(" 客户端所在目录下备用。")]),t._v(" "),s("h4",{attrs:{id:"创建配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建配置文件"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("创建配置文件")])])]),t._v(" "),s("p",[t._v("还是在 "),s("code",[t._v("frpc")]),t._v(" 客户端所在目录下创建 "),s("code",[t._v("winsw.xml")]),t._v(" 文件，并写入一下内容并保存：")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("service")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("frpc"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("frpc"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("frpc"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("executable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("frpc"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("executable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("arguments")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("-c frpc.ini"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("arguments")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("onfailure")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("action")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("restart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("delay")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("60 sec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("onfailure")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("action")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("restart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("delay")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("120 sec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("logmode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("reset"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("logmode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("service")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h4",{attrs:{id:"启动-winsw"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动-winsw"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("启动 winsw")])])]),t._v(" "),s("p",[t._v("管理员权限启动 CMD，进入到 "),s("code",[t._v("frpc")]),t._v(" 客户端所在目录下，添加服务")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("winsw.exe "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),s("p",[t._v("启动服务")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("winsw start\n")])])]),s("h4",{attrs:{id:"其他"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("其他")])])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#添加服务")]),t._v("\nwinsw.exe "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#开始")]),t._v("\nwinsw start\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#关闭")]),t._v("\nwinsw stop\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#卸载服务")]),t._v("\nwinsw uninstall\n")])])]),s("h2",{attrs:{id:"远程访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#远程访问"}},[t._v("#")]),t._v(" "),s("em",[s("strong",[t._v("远程访问")])])]),t._v(" "),s("p",[t._v("内网计算机配置允许远程访问，然后其他任何计算机通过 Windows 自带的远程桌面工具通过访问 "),s("code",[t._v("公网IP:远程桌面转发端口")]),t._v(" 连接远程桌面。")])])}),[],!1,null,null,null);s.default=n.exports}}]);