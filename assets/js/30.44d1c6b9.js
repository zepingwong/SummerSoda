(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{749:function(s,t,e){"use strict";e.r(t);var a=e(17),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"问题描述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题描述"}},[s._v("#")]),s._v(" "),e("em",[e("strong",[s._v("问题描述")])])]),s._v(" "),e("p",[s._v("如下图所示，使用命令"),e("code",[s._v("ssh -T git@github.com")]),s._v("测试公钥是否添加成功时，提示："),e("code",[s._v("git@github.com: Permission denied (publickey)")]),s._v("。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://s2.loli.net/2022/05/08/eSvTljFg35b1OGB.png",alt:"Snipaste_2022-04-19_10-29-33.png"}})]),s._v(" "),e("h2",{attrs:{id:"解决方法一"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方法一"}},[s._v("#")]),s._v(" "),e("em",[e("strong",[s._v("解决方法一")])])]),s._v(" "),e("p",[s._v("重新生成密钥对，不指定名字，使用默认名字")]),s._v(" "),e("h2",{attrs:{id:"解决方法二"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方法二"}},[s._v("#")]),s._v(" "),e("em",[e("strong",[s._v("解决方法二")])])]),s._v(" "),e("p",[s._v("使用ssh-agent代理管理git私钥")]),s._v(" "),e("p",[s._v("添加本地私钥：ssh-add ~/.ssh/自己定义的名字")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("如报错“Could not open a connection to your authentication agent.”，说明agent没有启动，先运行：eval $(ssh-agent)或者eval `ssh-agent -s` (注意这里是反引号)，然后再运行ssh-add ~/.ssh/自己定义的名字\n\n再使用ssh -T git@github.com就会看到你想要的效果了\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h2",{attrs:{id:"解决方法三"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方法三"}},[s._v("#")]),s._v(" "),e("em",[e("strong",[s._v("解决方法三")])])]),s._v(" "),e("p",[s._v("配置一个Host，Host要取一个别名，Host主要配置HostName和IdentityFile两个属性即可")]),s._v(" "),e("p",[s._v("Host的名字可以取为自己喜欢的名字，不过这个会影响git相关命令，例如：Host mygithub 这样定义的话，命令如下，即git@后面紧跟的名字改为mygithub，例如：git clone git@mygithub:xxx/****.git")]),s._v(" "),e("p",[s._v("HostName 　　　　　　　   这个是真实的域名地址")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("IdentityFile 　　　　　　　  这里是id_rsa的地址\n\nPreferredAuthentications    配置登录时用什么权限认证--可设为publickey,password publickey,keyboard-interactive等\n\nUser 　　　　　　　　　　   配置使用用户名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("配置如下：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置github.com")]),s._v("\nHost github.com\nHostName github.com\nIdentityFile ~/.ssh/GitHub\nPreferredAuthentications publickey \nUser Solin\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("注意：在.ssh目录中除了秘钥文件之外，config文件是后面的步骤中手动生产的，known_hosts文件是后续自动生产的")]),s._v(" "),e("p",[s._v("配置完成后，再使用ssh -T git@github.com测试是否配置成功")]),s._v(" "),e("p",[s._v("如果有多个git账号(比如：github.com账号、gitee.com账号等)，配置多个Host即可。")])])}),[],!1,null,null,null);t.default=n.exports}}]);